<!DOCTYPE html>
<html lang="ru" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />
    <title>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ v2RayTun</title>

    <!-- (–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) Telegram WebApp SDK: —Ü–≤–µ—Ç–∞/—Ç–µ–º–∞ –∏ haptics –ø–æ–¥—Ç—è–Ω—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ -->
    <script src="https://telegram.org/js/telegram-web-app.js" defer></script>

    <style>
      :root{
        --bg: var(--tg-theme-bg-color, #ffffff);
        --text: var(--tg-theme-text-color, #111827);
        --hint: var(--tg-theme-hint-color, #6b7280);
        --section: var(--tg-theme-section-bg-color, #f3f4f6);
        --button: var(--tg-theme-button-color, #2481cc);
        --button-text: var(--tg-theme-button-text-color, #ffffff);
        --border: rgba(0,0,0,.08);
        --radius: 12px;
        --shadow: 0 1px 3px rgba(0,0,0,.08);
      }
      @media (prefers-color-scheme: dark){
        :root{
          --bg: var(--tg-theme-bg-color, #0b0f14);
          --text: var(--tg-theme-text-color, #e5e7eb);
          --hint: var(--tg-theme-hint-color, #9ca3af);
          --section: var(--tg-theme-section-bg-color, #111827);
          --button: var(--tg-theme-button-color, #2992e3);
          --button-text: var(--tg-theme-button-text-color, #ffffff);
          --border: rgba(255,255,255,.08);
        }
      }

      *{ box-sizing:border-box }
      body{
        margin:0;
        font:16px/1.5 -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
        background:var(--bg);
        color:var(--text);
        padding:16px;
        -webkit-font-smoothing:antialiased;
        -moz-osx-font-smoothing:grayscale;
      }
      .container{ max-width:760px; margin:0 auto; }

      header{ text-align:center; margin-bottom:24px; padding-bottom:16px; border-bottom:1px solid var(--border); }
      .app-icon{
        width:72px; height:72px; margin:0 auto 12px;
        border-radius:20px; background:var(--button); color:#fff;
        display:grid; place-items:center; font-weight:800; font-size:24px; box-shadow:var(--shadow);
      }
      h1{ margin:0 0 6px; font-size:22px; }
      .subtitle{ color:var(--hint); font-size:14px; }

      /* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å (—Ç–∞–±—ã) */
      .tabs{ display:flex; gap:6px; padding:4px; background:var(--section); border-radius:var(--radius); margin:20px 0; }
      .tab{
        flex:1; border:0; background:transparent; color:var(--text);
        padding:10px 16px; border-radius:10px; font-weight:600; font-size:15px; cursor:pointer;
      }
      .tab[aria-selected="true"]{ background:var(--bg); box-shadow:var(--shadow); }
      .tab:focus-visible{ outline:2px solid var(--button); outline-offset:2px; }

      /* –ö–æ–Ω—Ç–µ–Ω—Ç */
      .panel{ display:none; }
      .panel[data-active="true"]{ display:block; }

      .instructions{ display:grid; gap:16px; }
      .step{ background:var(--section); border-radius:var(--radius); padding:16px; }
      .step-head{ display:flex; align-items:center; gap:12px; margin-bottom:12px; }
      .num{ width:28px; height:28px; border-radius:50%; background:var(--button); color:#fff; display:grid; place-items:center; font-weight:700; font-size:14px; }
      .title{ font-weight:700; font-size:16px; }
      .step p{ margin:0 0 12px; }
      .step ul{ margin:0 0 12px 20px; }
      .placeholder{
        width:min(100%,300px); height:520px; margin:12px auto; border:1px dashed var(--border);
        border-radius:10px; background:var(--bg); display:grid; place-content:center; gap:6px; color:var(--hint); text-align:center;
      }
      .placeholder i{ font-style:normal; font-size:42px; opacity:.6; }

      .buttons{ display:flex; flex-wrap:wrap; gap:10px; margin-top:12px; }
      .button{
        display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:10px 16px;
        border:0; border-radius:10px; font-size:14px; font-weight:600; cursor:pointer;
        text-decoration:none; background:var(--button); color:var(--button-text);
        transition:opacity .2s ease;
      }
      .button:hover{ opacity:.92; }
      .button.secondary{ background:var(--bg); color:var(--text); border:1px solid var(--border); }

      .note{
        background:rgba(255,193,7,.12); border-left:3px solid #ffc107; padding:12px; border-radius:8px; font-size:14px;
      }

      footer{ margin-top:20px; padding-top:16px; text-align:center; color:var(--hint); font-size:13px; border-top:1px solid var(--border); }

      @media (max-width:480px){
        .buttons{ flex-direction:column; }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <div class="app-icon" aria-hidden="true">V2</div>
        <h1>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ v2RayTun</h1>
        <p class="subtitle">–ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Android –∏ iOS</p>
      </header>

      <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å -->
      <div class="tabs" role="tablist" aria-label="–í—ã–±–æ—Ä –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã">
        <button type="button" id="tab-android" class="tab" role="tab" aria-selected="true" aria-controls="panel-android" data-platform="android">Android</button>
        <button type="button" id="tab-ios" class="tab" role="tab" aria-selected="false" aria-controls="panel-ios" data-platform="ios">iPhone</button>
      </div>

      <!-- –ü–∞–Ω–µ–ª—å Android -->
      <section id="panel-android" class="panel" role="tabpanel" aria-labelledby="tab-android" data-active="true">
        <div class="instructions">
          <article class="step">
            <div class="step-head">
              <div class="num">1</div><div class="title">–°–∫–∞—á–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</div>
            </div>
            <p>–°–∫–∞—á–∞–π—Ç–µ v2RayTun –∏–∑ Google Play –∏–ª–∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.</p>
            <div class="buttons">
              <a class="button" href="https://github.com/2dust/v2rayNG/releases" target="_blank" rel="noopener">–°–∫–∞—á–∞—Ç—å —Å GitHub</a>
              <a class="button secondary" href="https://play.google.com/store/apps/details?id=com.v2raytun.android" target="_blank" rel="noopener">Google Play</a>
            </div>
          </article>

          <article class="step">
            <div class="step-head">
              <div class="num">2</div><div class="title">–†–∞–∑—Ä–µ—à–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É</div>
            </div>
            <p>–ï—Å–ª–∏ —Å–∫–∞—á–∞–ª–∏ APK, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏–∑ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏.</p>
            <div class="placeholder" aria-hidden="true"><i>üì±</i><span>–°–∫—Ä–∏–Ω—à–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫</span></div>
            <div class="note">–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –∏–∑ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.</div>
          </article>

          <article class="step">
            <div class="step-head">
              <div class="num">3</div><div class="title">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</div>
            </div>
            <ul>
              <li>–î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–µ—Ä–≤–µ—Ä–∞.</li>
              <li>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.</li>
              <li>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ VPN-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.</li>
            </ul>
          </article>

          <article class="step">
            <div class="step-head">
              <div class="num">4</div><div class="title">–ó–∞–ø—É—Å—Ç–∏—Ç–µ VPN</div>
            </div>
            <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ VPN.</p>
            <div class="note">–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏—è –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã.</div>
          </article>
        </div>
      </section>

      <!-- –ü–∞–Ω–µ–ª—å iOS -->
      <section id="panel-ios" class="panel" role="tabpanel" aria-labelledby="tab-ios" data-active="false">
        <div class="instructions">
          <article class="step">
            <div class="step-head">
              <div class="num">1</div><div class="title">–°–∫–∞—á–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</div>
            </div>
            <p>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ v2RayTun –∏–∑ App Store.</p>
            <div class="buttons">
              <a class="button" href="https://apps.apple.com/am/app/v2raytun/id6476628951" target="_blank" rel="noopener">App Store</a>
            </div>
          </article>

          <article class="step">
            <div class="step-head">
              <div class="num">2</div><div class="title">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ VPN-–ø—Ä–æ—Ñ–∏–ª—å</div>
            </div>
            <p>–ü–µ—Ä–µ–π–¥–∏—Ç–µ: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –û—Å–Ω–æ–≤–Ω—ã–µ ‚Üí VPN –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ ‚Üí –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é VPN‚Ä¶</p>
          </article>

          <article class="step">
            <div class="step-head">
              <div class="num">3</div><div class="title">–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é</div>
            </div>
            <ul>
              <li>—á–µ—Ä–µ–∑ QR-–∫–æ–¥;</li>
              <li>–∏–∑ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏;</li>
              <li>–≤—Ä—É—á–Ω—É—é, –≤–≤–µ–¥—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.</li>
            </ul>
          </article>

          <article class="step">
            <div class="step-head">
              <div class="num">4</div><div class="title">–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ VPN</div>
            </div>
            <p>–í–∫–ª—é—á–∏—Ç–µ VPN –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–π –∑–∞–ø—Ä–æ—Å ¬´–†–∞–∑—Ä–µ—à–∏—Ç—å¬ª.</p>
            <div class="note">–ù–∞ iOS VPN –º–æ–∂–µ—Ç –æ—Ç–∫–ª—é—á–∞—Ç—å—Å—è –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ —ç–∫—Ä–∞–Ω–∞.</div>
          </article>
        </div>
      </section>

      <footer>
        v2RayTun Installation Guide
      </footer>
    </div>

    <script>
      // –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å–ª–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ DOM
      (function () {
        const onReady = (fn) => (document.readyState === "loading")
          ? document.addEventListener("DOMContentLoaded", fn, { once: true })
          : fn();

        onReady(() => {
          // Telegram WebApp expand (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
          try { window.Telegram?.WebApp?.expand?.(); } catch(_) {}

          const tablist = document.querySelector(".tabs");
          const tabs = Array.from(tablist.querySelectorAll('[role="tab"]'));
          const panels = {
            android: document.getElementById("panel-android"),
            ios: document.getElementById("panel-ios")
          };

          function setActive(platform){
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º aria –≤—ã–±—Ä–∞–Ω–Ω–æ—Å—Ç—å
            tabs.forEach(btn => {
              const isActive = btn.dataset.platform === platform;
              btn.setAttribute("aria-selected", String(isActive));
            });

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é –ø–∞–Ω–µ–ª—å
            panels.android.setAttribute("data-active", String(platform === "android"));
            panels.ios.setAttribute("data-active", String(platform === "ios"));

            // Haptics (–µ—Å–ª–∏ Telegram WebApp)
            try { window.Telegram?.WebApp?.HapticFeedback?.impactOccurred("light"); } catch(_) {}
          }

          // –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–∫–æ–≤
          tablist.addEventListener("click", (e) => {
            const btn = e.target.closest('[role="tab"]');
            if (!btn) return;
            setActive(btn.dataset.platform);
          });

          // –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π (–≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ)
          tablist.addEventListener("keydown", (e) => {
            if (e.key !== "ArrowLeft" && e.key !== "ArrowRight") return;
            e.preventDefault();
            const currentIndex = tabs.findIndex(t => t.getAttribute("aria-selected") === "true");
            const dir = e.key === "ArrowRight" ? 1 : -1;
            const next = (currentIndex + dir + tabs.length) % tabs.length;
            tabs[next].focus();
            setActive(tabs[next].dataset.platform);
          });

          // –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–±–∏—Ç—å –∫–ª–∏–∫–æ–º)
          const ua = navigator.userAgent.toLowerCase();
          const detected = /iphone|ipad|ipod/.test(ua) ? "ios" : "android";
          setActive(detected);
        });
      })();
    </script>
  </body>
</html>